<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Carbonify Demo Views</title>
    <style>
      :root {
        /* BaseProdWebsite brand palette */
        --cb-brand-50-color: 214deg 100% 97%;
        --cb-brand-100-color: 214deg 95% 93%;
        --cb-brand-200-color: 213deg 97% 87%;
        --cb-brand-300-color: 212deg 96% 78%;
        --cb-brand-400-color: 213deg 94% 68%;
        --cb-brand-500-color: 217deg 91% 60%;
        --cb-brand-700-color: 224deg 76% 48%;
        --cb-brand-800-color: 226deg 71% 40%;
        --cb-brand-900-color: 225deg 64% 33%;
        --cb-brand-950-color: 226deg 57% 21%;

        /* Mapped Carbonify variables */
        --brand: hsl(var(--cb-brand-500-color));
        --brand-dark: hsl(var(--cb-brand-700-color));
        --bg: #f8f9fa;
        --surface: #ffffff;
        --border: #e9ecef;
        --text: #212529;
        --muted: #6c757d;
      }

      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        background: var(--bg);
        color: var(--text);
      }
      header {
        background: var(--brand);
        color: #fff;
        padding: 1rem 1.5rem;
      }
      .bonus-toggle {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-top: 0.5rem;
        font-size: 0.875rem;
      }
      .hero-design-toggle {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-top: 0.5rem;
        font-size: 0.875rem;
      }

      .hero-design-select {
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 8px;
        color: #ffffff;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .hero-design-select:hover {
        background: rgba(255, 255, 255, 0.3);
        border-color: rgba(255, 255, 255, 0.5);
      }

      .hero-design-select option {
        background: var(--brand-dark);
        color: #ffffff;
      }

      /* Main Navigation Styles (from screenshot) */
      .main-navigation {
        background: #ffffff;
        border-bottom: 1px solid #e5e7eb;
        padding: 1rem 0;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .nav-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1.5rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .nav-logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .logo-icon {
        width: 32px;
        height: 32px;
        background: var(--brand);
        color: #ffffff;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1.25rem;
      }

      .logo-text {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--text);
      }

      .nav-menu {
        display: flex;
        gap: 2rem;
      }

      .nav-link {
        color: var(--text);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.2s ease;
        position: relative;
      }

      .nav-link:hover {
        color: var(--brand);
      }

      .nav-link::after {
        content: '';
        position: absolute;
        bottom: -4px;
        left: 0;
        width: 0;
        height: 2px;
        background: var(--brand);
        transition: width 0.2s ease;
      }

      .nav-link:hover::after {
        width: 100%;
      }

      .nav-actions {
        display: flex;
        gap: 1rem;
      }

      .btn {
        padding: 0.5rem 1.5rem;
        border-radius: 8px;
        font-weight: 600;
        font-size: 0.875rem;
        border: none;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .btn-login {
        background: transparent;
        color: var(--text);
        border: 1px solid #d1d5db;
      }

      .btn-login:hover {
        background: #f9fafb;
        border-color: var(--brand);
      }

      .btn-register {
        background: var(--brand);
        color: #ffffff;
      }

      .btn-register:hover {
        background: var(--brand-dark);
        transform: translateY(-1px);
      }

      .mobile-toggle {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-top: 0.5rem;
        font-size: 0.875rem;
      }
      .toggle-switch {
        position: relative;
        width: 44px;
        height: 24px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        cursor: pointer;
        transition: background 0.2s ease;
      }
      .toggle-switch.active {
        background: rgba(255, 255, 255, 0.8);
      }
      .toggle-switch::after {
        content: '';
        position: absolute;
        top: 2px;
        left: 2px;
        width: 20px;
        height: 20px;
        background: #fff;
        border-radius: 50%;
        transition: transform 0.2s ease;
      }
      .toggle-switch.active::after {
        transform: translateX(20px);
      }
      .container {
        max-width: 1200px;
        margin: 1rem auto;
        padding: 0 1rem;
      }
      .tabs {
        display: flex;
        gap: 0.5rem;
        background: #e9ecef;
        border-radius: 12px;
        padding: 0.25rem;
      }
      .tab-btn {
        border: 0;
        background: transparent;
        color: var(--muted);
        padding: 0.625rem 1rem;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
      }
      .tab-btn.active {
        background: var(--surface);
        color: var(--brand);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }
      .view {
        margin-top: 1rem;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 12px;
        overflow: hidden;
        display: none;
      }
      .view.active {
        display: block;
      }
      iframe {
        width: 100%;
        height: 80vh;
        border: 0;
        display: block;
      }

             /* Hero Section Styles - Professional Design from Screenshot */
       .hero-section {
         position: relative;
         overflow: hidden;
         min-height: 100vh;
         display: flex;
         align-items: center;
         background-image: url('Hero-desktop-wide.webp');
         background-size: cover;
         background-position: center;
         background-attachment: fixed;
         background-repeat: no-repeat;
         transform: scale(1.1);
         transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
       }

       .hero-section.unfolded {
         transform: scale(1);
       }

       /* Hero Background and Overlay */
       .hero-background {
         position: absolute;
         top: 0;
         left: 0;
         right: 0;
         bottom: 0;
         background: linear-gradient(135deg, rgba(31, 41, 55, 0.7) 0%, rgba(55, 65, 81, 0.8) 100%);
         z-index: 1;
       }

       .hero-overlay {
         position: absolute;
         top: 0;
         left: 0;
         right: 0;
         bottom: 0;
         background: rgba(0, 0, 0, 0.3);
         z-index: 2;
       }

             /* Hero Container */
       .hero-container {
         position: relative;
         z-index: 3;
         max-width: 1200px;
         margin: 0 auto;
         padding: 0 2rem;
         display: flex;
         justify-content: center;
         align-items: center;
         min-height: 100vh;
         text-align: center;
       }

       /* Left Content */
       .hero-content-left {
         color: #ffffff;
         max-width: 800px;
       }

       .hero-main-content {
         max-width: 100%;
       }

      .hero-title {
        font-size: 3.5rem;
        font-weight: 800;
        margin-bottom: 2rem;
        line-height: 1.1;
        color: #ffffff;
      }

             /* Hero CTAs */
       .hero-ctas {
         display: flex;
         gap: 1.5rem;
         margin-bottom: 2rem;
         flex-wrap: wrap;
       }

       .cta-primary,
       .cta-secondary {
         display: inline-flex;
         align-items: center;
         gap: 0.75rem;
         padding: 1rem 2rem;
         border-radius: 50px;
         font-weight: 600;
         font-size: 1.1rem;
         text-decoration: none;
         transition: all 0.3s ease;
         position: relative;
         overflow: hidden;
       }

       .cta-primary {
         background: #ffffff;
         color: var(--brand);
         box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
       }

       .cta-primary:hover {
         transform: translateY(-3px);
         box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25);
         background: var(--brand);
         color: #ffffff;
       }

       .cta-secondary {
         background: transparent;
         color: #ffffff;
         border: 2px solid rgba(255, 255, 255, 0.3);
         backdrop-filter: blur(10px);
       }

       .cta-secondary:hover {
         background: rgba(255, 255, 255, 0.1);
         border-color: rgba(255, 255, 255, 0.5);
         transform: translateY(-2px);
       }

       .cta-icon {
         width: 20px;
         height: 20px;
         transition: transform 0.3s ease;
       }

       .cta-primary:hover .cta-icon,
       .cta-secondary:hover .cta-icon {
         transform: translateX(4px);
       }

      /* Benefits List */
             .benefits-list {
         display: flex;
         flex-direction: column;
         gap: 1rem;
       }

       

      .benefit-item {
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        font-size: 0.875rem;
        line-height: 1.5;
        opacity: 0.9;
      }

      .benefit-icon {
        color: #10b981;
        font-weight: bold;
        font-size: 1rem;
        flex-shrink: 0;
        margin-top: 0.125rem;
      }

      /* Right Side Image */
      .hero-content-right {
        display: flex;
        justify-content: center;
        align-items: center;
      }

       /* Scroll Indicator */
       .scroll-indicator {
         position: absolute;
         bottom: 2rem;
         left: 50%;
         transform: translateX(-50%);
         z-index: 3;
         display: flex;
         flex-direction: column;
         align-items: center;
         gap: 1rem;
         color: #ffffff;
         opacity: 0;
         animation: fadeInUp 1s ease-out 1.5s forwards;
       }

       .scroll-arrow {
         width: 40px;
         height: 40px;
         border: 2px solid rgba(255, 255, 255, 0.3);
         border-radius: 50%;
         display: flex;
         align-items: center;
         justify-content: center;
         animation: bounce 2s infinite;
       }

       .scroll-text {
         font-size: 0.875rem;
         font-weight: 500;
         letter-spacing: 0.05em;
         text-transform: uppercase;
       }

       @keyframes bounce {
         0%, 20%, 50%, 80%, 100% {
           transform: translateY(0);
         }
         40% {
           transform: translateY(-10px);
         }
         60% {
           transform: translateY(-5px);
         }
       }

      /* Floating Cards */
      .floating-cards {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        z-index: 2;
      }

      .floating-card {
        position: absolute;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 12px;
        padding: 0.75rem;
        color: #ffffff;
        font-size: 0.75rem;
        font-weight: 500;
        animation: float 6s ease-in-out infinite;
        pointer-events: auto;
        text-align: center;
        min-width: 80px;
      }

      .floating-card-1 { top: 15%; left: 5%; animation-delay: 0s; }
      .floating-card-2 { top: 25%; right: 8%; animation-delay: 1s; }
      .floating-card-3 { top: 45%; left: 8%; animation-delay: 2s; }
      .floating-card-4 { bottom: 35%; right: 5%; animation-delay: 3s; }
      .floating-card-5 { bottom: 20%; left: 15%; animation-delay: 4s; }

      .card-icon {
        font-size: 1.25rem;
        margin-bottom: 0.25rem;
      }

      .card-text {
        font-size: 0.75rem;
        opacity: 0.9;
      }

      .hero-content {
        position: relative;
        z-index: 2;
        text-align: center;
        color: #ffffff;
        max-width: 800px;
        padding: 2rem;
        margin: 0 auto;
      }

      .hero-logo {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        opacity: 0;
        animation: fadeInUp 0.8s ease-out 0.2s forwards;
      }

      .hero-title {
        font-size: 3.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        line-height: 1.2;
        opacity: 0;
        animation: fadeInUp 0.8s ease-out 0.4s forwards;
      }

      .hero-subtitle {
        font-size: 1.25rem;
        opacity: 0.9;
        margin-bottom: 2rem;
        opacity: 0;
        animation: fadeInUp 0.8s ease-out 0.6s forwards;
      }

      .hero-stats {
        display: flex;
        justify-content: center;
        gap: 3rem;
        margin-bottom: 2rem;
        opacity: 0;
        animation: fadeInUp 0.8s ease-out 0.8s forwards;
      }

      .stat-item {
        text-align: center;
      }

      .stat-number {
        font-size: 2.5rem;
        font-weight: 700;
        display: block;
        margin-bottom: 0.25rem;
      }

      .stat-label {
        font-size: 0.875rem;
        opacity: 0.8;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .hero-cta {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: #ffffff;
        color: var(--brand);
        padding: 1rem 2rem;
        border-radius: 50px;
        font-weight: 600;
        font-size: 1.1rem;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        opacity: 0;
        animation: fadeInUp 0.8s ease-out 1s forwards;
        position: relative;
        overflow: hidden;
      }

      .hero-cta::after {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        transform: rotate(45deg) translateX(-100%);
        transition: transform 0.6s ease;
      }

      .hero-cta:hover::after {
        transform: rotate(45deg) translateX(100%);
      }

      .hero-cta:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25);
        background: var(--brand);
        color: #ffffff;
      }

      .floating-cards {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        z-index: 1;
      }

      /* Design 1: Current floating cards */
      .design-1 .floating-card {
        position: absolute;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 16px;
        padding: 1rem;
        color: #ffffff;
        font-size: 0.875rem;
        font-weight: 500;
        animation: float 6s ease-in-out infinite;
        pointer-events: auto;
      }

      /* Design 2: Minimalist cards */
      .design-2 .floating-card {
        position: absolute;
        background: rgba(255, 255, 255, 0.9);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 0.75rem;
        color: var(--text);
        font-size: 0.875rem;
        font-weight: 500;
        animation: float 6s ease-in-out infinite;
        pointer-events: auto;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      }

      /* Design 3: Card-based modular */
      .design-3 .floating-card {
        position: absolute;
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 1rem;
        color: var(--text);
        font-size: 0.875rem;
        font-weight: 500;
        animation: float 6s ease-in-out infinite;
        pointer-events: auto;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
      }

      /* Design 4: Geometric gradient cards */
      .design-4 .floating-card {
        position: absolute;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(15px);
        border: 1px solid rgba(255, 255, 255, 0.25);
        border-radius: 20px;
        padding: 1rem;
        color: #ffffff;
        font-size: 0.875rem;
        font-weight: 500;
        animation: float 6s ease-in-out infinite;
        pointer-events: auto;
        transform: rotate(-2deg);
      }

      /* Additional design variations */
      /* Design 2: Modern Light */
      .hero-section.design-2 {
        background-image: url('Hero-desktop-wide.webp');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        background-repeat: no-repeat;
      }

      .hero-section.design-2 .hero-overlay {
        background: rgba(255, 255, 255, 0.1);
      }

      .hero-section.design-2 .hero-title {
        color: var(--brand);
        text-shadow: none;
      }

             .hero-section.design-2 .cta-primary {
         background: var(--brand);
         color: #ffffff;
         box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
       }

       .hero-section.design-2 .cta-primary:hover {
         background: var(--brand-dark);
         transform: translateY(-3px);
       }

       .hero-section.design-2 .cta-secondary {
         background: rgba(255, 255, 255, 0.9);
         color: var(--text);
         border-color: var(--border);
       }

      .hero-section.design-2 .floating-card {
        background: rgba(255, 255, 255, 0.9);
        color: var(--text);
        border: 1px solid rgba(0, 0, 0, 0.1);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      }

      /* Design 3: Clean Minimalist */
      .hero-section.design-3 {
        background-image: url('Hero-desktop-wide.webp');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        background-repeat: no-repeat;
      }

      .hero-section.design-3 .hero-overlay {
        background: none;
      }

      .hero-section.design-3 .hero-title {
        color: var(--text);
        text-shadow: none;
      }

             .hero-section.design-3 .cta-primary {
         background: var(--brand);
         color: #ffffff;
         box-shadow: 0 8px 32px rgba(59, 130, 246, 0.2);
       }

       .hero-section.design-3 .cta-primary:hover {
         background: var(--brand-dark);
         transform: translateY(-3px);
       }

       .hero-section.design-3 .cta-secondary {
         background: #ffffff;
         color: var(--text);
         border-color: var(--border);
         box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
       }

      .hero-section.design-3 .floating-card {
        background: #ffffff;
        color: var(--text);
        border: 1px solid var(--border);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      }

      /* Design 4: Bold Gradient */
      .hero-section.design-4 {
        background-image: url('Hero-desktop-wide.webp');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        background-repeat: no-repeat;
      }

      .hero-section.design-4 .hero-overlay {
        background: rgba(0, 0, 0, 0.2);
      }

      .hero-section.design-4 .hero-title {
        color: #ffffff;
        text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      }

             .hero-section.design-4 .cta-primary {
         background: rgba(255, 255, 255, 0.2);
         color: #ffffff;
         backdrop-filter: blur(20px);
         border: 1px solid rgba(255, 255, 255, 0.3);
         box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
       }

       .hero-section.design-4 .cta-primary:hover {
         background: rgba(255, 255, 255, 0.3);
         transform: translateY(-3px);
       }

       .hero-section.design-4 .cta-secondary {
         background: rgba(255, 255, 255, 0.1);
         color: #ffffff;
         border-color: rgba(255, 255, 255, 0.4);
         backdrop-filter: blur(15px);
       }

      .hero-section.design-4 .floating-card {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(15px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        transform: rotate(-2deg);
      }

      .floating-card:nth-child(1) {
        top: 15%;
        left: 5%;
        animation-delay: 0s;
      }

      .floating-card:nth-child(2) {
        top: 25%;
        right: 8%;
        animation-delay: 2s;
      }

      .floating-card:nth-child(3) {
        bottom: 25%;
        left: 8%;
        animation-delay: 4s;
      }

      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        33% {
          transform: translateY(-20px) rotate(2deg);
        }
        66% {
          transform: translateY(-10px) rotate(-1deg);
        }
      }

      /* Interactive Elements */
      .interactive-element {
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .interactive-element:hover {
        transform: scale(1.05);
      }

      /* Mobile Responsive */
      @media (max-width: 768px) {
        .nav-container {
          flex-direction: column;
          gap: 1rem;
          padding: 1rem;
        }

        .nav-menu {
          gap: 1rem;
          flex-wrap: wrap;
          justify-content: center;
        }

        .nav-actions {
          width: 100%;
          justify-content: center;
        }

                 .hero-container {
           padding: 1rem;
           text-align: center;
         }

                 .hero-title {
           font-size: 2.5rem;
         }

         .hero-ctas {
           flex-direction: column;
           gap: 1rem;
         }

         .cta-primary,
         .cta-secondary {
           width: 100%;
           justify-content: center;
         }

         

        

        .floating-cards {
          display: none;
        }

        .hero-design-toggle {
          flex-direction: column;
          align-items: flex-start;
          gap: 0.25rem;
        }

        .hero-design-select {
          width: 100%;
          max-width: 200px;
        }

        .benefits-list {
          text-align: left;
        }
      }

      @media (max-width: 1024px) {
        .hero-container {
          gap: 2rem;
          padding: 1rem;
        }

        .hero-title {
          font-size: 3rem;
        }

        .offer-cards {
          gap: 1rem;
        }

        
      }

      /* Tablet adjustments */
      @media (max-width: 1024px) {
        .floating-card:nth-child(1) {
          top: 10%;
          left: 2%;
        }

        .floating-card:nth-child(2) {
          top: 20%;
          right: 5%;
        }

        .floating-card:nth-child(3) {
          bottom: 20%;
          left: 5%;
        }
      }

      

      /* Global Info Box Styles - Applied to all iframes */
      .info-box {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: white;
        border: 2px solid var(--brand);
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        z-index: 999999 !important;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        min-width: 280px;
        max-width: 320px;
        pointer-events: none;
      }

             /* Default right positioning */
       .info-box {
         right: calc(100% + 20px);
         max-width: 320px;
         min-width: 280px;
         z-index: 999999 !important;
       }

       /* Left positioning for cards on the right side */
       .info-box.info-box-left {
         right: auto;
         left: calc(100% + 20px);
         z-index: 999999 !important;
       }

      .total-sum-display:hover .info-box,
      .price-display:hover .info-box {
        opacity: 1 !important;
        visibility: visible !important;
        pointer-events: auto !important;
        z-index: 999999 !important;
      }

      /* Default right arrow */
      .info-box::before {
        content: '';
        position: absolute;
        top: 50%;
        right: -8px;
        transform: translateY(-50%);
        width: 0;
        height: 0;
        border-top: 8px solid transparent;
        border-bottom: 8px solid transparent;
        border-left: 8px solid var(--brand);
      }

      .info-box::after {
        content: '';
        position: absolute;
        top: 50%;
        right: -6px;
        transform: translateY(-50%);
        width: 0;
        height: 0;
        border-top: 6px solid transparent;
        border-bottom: 6px solid transparent;
        border-left: 6px solid white;
      }

      /* Left arrow for left positioning */
      .info-box.info-box-left::before {
        right: auto;
        left: -8px;
        border-left: none;
        border-right: 8px solid var(--brand);
      }

      .info-box.info-box-left::after {
        right: auto;
        left: -6px;
        border-left: none;
        border-right: 6px solid white;
      }

      .info-box-title {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--brand);
        margin-bottom: 0.75rem;
        text-align: center;
      }

      .info-box-details {
        font-size: 0.9rem;
        color: #6b7280;
        margin-bottom: 1rem;
        text-align: center;
        font-weight: 600;
      }

      .info-box-process {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .info-box-process li {
        padding: 0.5rem 0;
        border-bottom: 1px solid #f3f4f6;
        font-size: 0.85rem;
        color: #374151;
        position: relative;
        padding-left: 1.5rem;
      }

      .info-box-process li:last-child {
        border-bottom: none;
      }

      .info-box-process li::before {
        content: '';
        position: absolute;
        left: 0;
        color: var(--brand);
        font-weight: bold;
      }

             /* Ensure price display boxes have relative positioning for info-box positioning */
       .total-sum-display,
       .price-display {
         position: relative !important;
       }

      /* Mobile adjustments for info-box */
      @media (max-width: 768px) {
        .info-box {
          top: 100% !important;
          right: auto !important;
          left: 50% !important;
          transform: translateX(-50%) !important;
          margin-top: 10px !important;
          z-index: 999999 !important;
        }

        .total-sum-display:hover .info-box,
        .price-display:hover .info-box {
          transform: translateX(-50%) translateY(8px) !important;
          opacity: 1 !important;
          visibility: visible !important;
        }

        .info-box::before {
          top: -8px;
          right: auto;
          left: 50%;
          transform: translateX(-50%);
          border-top: none;
          border-bottom: 8px solid var(--brand);
          border-left: 8px solid transparent;
          border-right: 8px solid transparent;
        }

        .info-box::after {
          top: -6px;
          right: auto;
          left: 50%;
          transform: translateX(-50%);
          border-top: none;
          border-bottom: 6px solid white;
          border-left: 6px solid transparent;
          border-right: 6px solid transparent;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <h1 style="margin: 0; font-size: 1.25rem">carbonify â€“ View Showcase</h1>
        <div style="opacity: 0.9">Ein Basis-Layout mit allen Views</div>
        <div class="hero-design-toggle">
          <span>Hero Design</span>
          <select id="hero-design-select" class="hero-design-select">
            <option value="1">Design 1: Professional</option>
            <option value="2">Design 2: Modern</option>
            <option value="3">Design 3: Clean</option>
            <option value="4">Design 4: Bold</option>
          </select>
        </div>
        <div class="bonus-toggle">
          <span>Verivox Bonus anzeigen</span>
          <div
            class="toggle-switch"
            id="bonusToggle"
            title="Verivox Bonus ein-/ausschalten"
          ></div>
        </div>
        <div class="mobile-toggle">
          <span>Mobile Ansicht</span>
          <div
            class="toggle-switch"
            id="mobileToggle"
            title="Mobile Ansicht ein-/ausschalten"
          ></div>
        </div>
      </div>
    </header>

    <!-- Professional Navigation Header (from screenshot) -->
    <nav class="main-navigation">
      <div class="nav-container">
        <div class="nav-logo">
          <div class="logo-icon">C</div>
          <span class="logo-text">carbonify</span>
        </div>
        <div class="nav-menu">
          <a href="#" class="nav-link">PrÃ¤mie</a>
          <a href="#" class="nav-link">FAQ</a>
          <a href="#" class="nav-link">Blog</a>
          <a href="#" class="nav-link">B2B</a>
          <a href="#" class="nav-link">Biomethan</a>
        </div>
        <div class="nav-actions">
          <button class="btn btn-login">Login</button>
          <button class="btn btn-register">Registrieren</button>
        </div>
      </div>
    </nav>



    <!-- Hero Section -->
    <div class="hero-section design-1">
      <!-- Background Image with Overlay -->
      <div class="hero-background">
        <div class="hero-overlay"></div>
      </div>

      <!-- Floating Info Cards -->
      <div class="floating-cards">
        <div class="floating-card floating-card-1">
          <div class="card-icon">ðŸš—</div>
          <div class="card-text">THG-PrÃ¤mie</div>
        </div>
        <div class="floating-card floating-card-2">
          <div class="card-icon">ðŸ’°</div>
          <div class="card-text">Einfach & Schnell</div>
        </div>
        <div class="floating-card floating-card-3">
          <div class="card-icon">âš¡</div>
          <div class="card-text">Sicher</div>
        </div>
        <div class="floating-card floating-card-4">
          <div class="card-icon">âœ…</div>
          <div class="card-text">Fair</div>
        </div>
        <div class="floating-card floating-card-5">
          <div class="card-icon">ðŸ“…</div>
          <div class="card-text">2025</div>
        </div>
      </div>

      <!-- Main Hero Content -->
      <div class="hero-container">
        <div class="hero-content-left">
          <div class="hero-main-content">
            <h1 class="hero-title">THG-PrÃ¤mie</h1>
            
                         <!-- Hero CTAs -->
             <div class="hero-ctas">
               <a href="#signup" class="cta-primary">
                 <span>Jetzt anmelden</span>
                 <svg class="cta-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                   <path d="M10 3L17 10L10 17" stroke="currentColor" stroke-width="2" fill="none"/>
                 </svg>
               </a>
               
                               <a href="#views" class="cta-secondary">
                  <span>THG-PrÃ¤mie auswÃ¤hlen</span>
                  <svg class="cta-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M10 3L17 10L10 17" stroke="currentColor" stroke-width="2" fill="none"/>
                  </svg>
                </a>
             </div>

            <!-- Benefits List -->
            <div class="benefits-list">
              <div class="benefit-item">
                <div class="benefit-icon">âœ“</div>
                <span>Vertraue dem Anbieter mit der hÃ¶chsten Kundenzufriedenheit.</span>
              </div>
              <div class="benefit-item">
                <div class="benefit-icon">âœ“</div>
                <span>Erhalte eine marktgerechte und abgesicherte Auszahlung.</span>
              </div>
              <div class="benefit-item">
                <div class="benefit-icon">âœ“</div>
                <span>Setze auf Expertise aus 750.000 Quoten.</span>
              </div>
              <div class="benefit-item">
                <div class="benefit-icon">âœ“</div>
                <span>Binde dich ausschlieÃŸlich fÃ¼r das Quotenjahr 2025.</span>
              </div>
            </div>
          </div>
        </div>

                 <!-- Scroll Indicator -->
         <div class="scroll-indicator">
           <div class="scroll-arrow">
             <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
               <path d="M7 13l5 5 5-5"/>
               <path d="M7 6l5 5 5-5"/>
             </svg>
           </div>
           <span class="scroll-text"></span>
         </div>
             </div>
     </div>



     <main
      class="container"
      id="views"
    >
      <div
        class="tabs"
        role="tablist"
      >
        <button
          class="tab-btn active"
          data-target="#comparison"
          role="tab"
        >
          Vergleich
        </button>
        <button
          class="tab-btn"
          data-target="#toggle"
          role="tab"
        >
          Toggle-Ansicht
        </button>
        <button
          class="tab-btn"
          data-target="#planfinder"
          role="tab"
        >
          Plan Finder
        </button>
        <button
          class="tab-btn"
          data-target="#figma"
          role="tab"
        >
          Regler-Ansicht
        </button>
        <button
          class="tab-btn"
          data-target="#figma-copy"
          role="tab"
        >
          Figma Copy
        </button>
                    

      </div>

      <section
        id="comparison"
        class="view active"
        role="tabpanel"
      >
        <iframe
          src="ComparisonView/comparisonview.html"
          title="Vergleich Tabelle"
        ></iframe>
      </section>
      <section
        id="toggle"
        class="view"
        role="tabpanel"
      >
        <iframe
          src="ToggleView/toggleview.html"
          title="Slider"
        ></iframe>
      </section>
      <section
        id="planfinder"
        class="view"
        role="tabpanel"
      >
        <iframe
          src="PlanFinder/carbonify-plan-finder.html"
          title="Plan Finder"
        ></iframe>
      </section>
      <section
        id="figma"
        class="view"
        role="tabpanel"
      >
        <iframe
          src="BaseDesignFigma/Figma-Productoption.html"
          title="Regler-Ansicht"
        ></iframe>
      </section>
      <section
        id="figma-copy"
        class="view"
        role="tabpanel"
      >
        <iframe
          src="FigmaCopy/figma-copy.html"
          title="Figma Copy"
        ></iframe>
      </section>
                

    </main>

    <script src="sample-data.js"></script>
    <script src="countup.js"></script>
    <script>
      // Hero interactions
      document.addEventListener('DOMContentLoaded', function () {
        setupHeroInteractions();
        // CountUp animations are auto-initialized via data attributes
        console.log('Index.html: DOMContentLoaded, checking for countup elements...');
        const countupElements = document.querySelectorAll('[data-countup]');
        console.log('Index.html: Found', countupElements.length, 'countup elements');
        countupElements.forEach((el, index) => {
          console.log('Index.html: Element', index, ':', el.textContent, 'data:', el.dataset);
        });
      });

             function setupHeroInteractions() {
         // Add click handlers to floating cards
         document.querySelectorAll('.floating-card').forEach((card) => {
           card.addEventListener('click', function () {
             this.style.transform = 'scale(1.1) rotate(5deg)';
             setTimeout(() => {
               this.style.transform = '';
             }, 300);
           });
         });

         // Smooth scroll for anchor links
         document.querySelectorAll('a[href^="#"]').forEach(anchor => {
           anchor.addEventListener('click', function (e) {
             e.preventDefault();
             const target = document.querySelector(this.getAttribute('href'));
             if (target) {
               target.scrollIntoView({
                 behavior: 'smooth',
                 block: 'start'
               });
             }
           });
         });

         // Hero section scroll unfold effect
         const heroSection = document.querySelector('.hero-section');
         let isUnfolded = false;

         function handleScroll() {
           const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
           const heroHeight = heroSection.offsetHeight;
           
           if (scrollTop > heroHeight * 0.1 && !isUnfolded) {
             heroSection.classList.add('unfolded');
             isUnfolded = true;
           } else if (scrollTop <= heroHeight * 0.1 && isUnfolded) {
             heroSection.classList.remove('unfolded');
             isUnfolded = false;
           }
         }

         // Throttle scroll events for performance
         let ticking = false;
         function requestTick() {
           if (!ticking) {
             requestAnimationFrame(() => {
               handleScroll();
               ticking = false;
             });
             ticking = true;
           }
         }

         window.addEventListener('scroll', requestTick);
         
         // Initial check
         handleScroll();
       }



      // Tab switching functionality
      document.querySelectorAll('.tab-btn').forEach((btn) => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.tab-btn').forEach((b) => b.classList.remove('active'));
          btn.classList.add('active');
          const target = btn.getAttribute('data-target');
          document.querySelectorAll('.view').forEach((v) => v.classList.remove('active'));
          document.querySelector(target).classList.add('active');
        });
      });

      // Bonus toggle functionality
      const bonusToggle = document.getElementById('bonusToggle');
      let bonusEnabled = false; // Default to disabled

      bonusToggle.addEventListener('click', () => {
        bonusEnabled = !bonusEnabled;
        bonusToggle.classList.toggle('active', bonusEnabled);

        // Send message to all iframes
        const iframes = document.querySelectorAll('iframe');
        iframes.forEach((iframe) => {
          try {
            iframe.contentWindow.postMessage(
              {
                type: 'toggleBonus',
                enabled: bonusEnabled,
              },
              '*',
            );
          } catch (e) {
            // Iframe might not be loaded yet
            console.log('Could not send message to iframe:', e);
          }
        });
      });

      // Mobile toggle functionality
      const mobileToggle = document.getElementById('mobileToggle');
      let mobileEnabled = false; // Default to disabled

      mobileToggle.addEventListener('click', () => {
        mobileEnabled = !mobileEnabled;
        mobileToggle.classList.toggle('active', mobileEnabled);

        // Send message to all iframes
        const iframes = document.querySelectorAll('iframe');
        iframes.forEach((iframe) => {
          try {
            iframe.contentWindow.postMessage(
              {
                type: 'toggleMobile',
                enabled: mobileEnabled,
              },
              '*',
            );
          } catch (e) {
            // Iframe might not be loaded yet
            console.log('Could not send message to iframe:', e);
          }
        });
      });

      // Hero design switching functionality
      const heroDesignSelect = document.getElementById('hero-design-select');
      const heroSection = document.querySelector('.hero-section');

      heroDesignSelect.addEventListener('change', function() {
        const selectedDesign = this.value;
        
        // Remove all design classes
        heroSection.classList.remove('design-1', 'design-2', 'design-3', 'design-4');
        
        // Add the selected design class
        heroSection.classList.add(`design-${selectedDesign}`);
        
        // Update hero content styling based on design
        updateHeroContentForDesign(selectedDesign);
        
        console.log(`Switched to hero design ${selectedDesign}`);
      });

      function updateHeroContentForDesign(design) {
        const heroSection = document.querySelector('.hero-section');
        const heroTitle = document.querySelector('.hero-title');
        const offerCards = document.querySelectorAll('.offer-card');
        const floatingCards = document.querySelectorAll('.floating-card');
        
        // Remove all design classes
        heroSection.classList.remove('design-1', 'design-2', 'design-3', 'design-4');
        
        // Add the selected design class
        heroSection.classList.add(`design-${design}`);
        
        console.log(`Switched to hero design ${design}`);
      }

      // Listen for messages from iframes
      window.addEventListener('message', (event) => {
        if (event.data.type === 'requestBonusState') {
          // Send current bonus state to requesting iframe
          event.source.postMessage(
            {
              type: 'bonusState',
              enabled: bonusEnabled,
            },
            '*',
          );
        } else if (event.data.type === 'requestMobileState') {
          // Send current mobile state to requesting iframe
          event.source.postMessage(
            {
              type: 'mobileState',
              enabled: mobileEnabled,
            },
            '*',
          );
        }
      });

      // Inject global styles into all iframes for info-box functionality
      function injectGlobalStyles() {
        const iframes = document.querySelectorAll('iframe');
        console.log('Injecting global styles into', iframes.length, 'iframes');
        
        iframes.forEach((iframe, index) => {
          try {
            if (iframe.contentDocument && iframe.contentDocument.head) {
              // Check if styles already exist
              if (!iframe.contentDocument.querySelector('#global-info-box-styles')) {
                console.log('Injecting styles into iframe', index);
                const style = iframe.contentDocument.createElement('style');
                style.id = 'global-info-box-styles';
                style.textContent = `
                  .info-box {
                    position: absolute !important;
                    top: 50% !important;
                    transform: translateY(-50%) !important;
                    background: white !important;
                    border: 2px solid hsl(217deg 91% 60%) !important;
                    border-radius: 12px !important;
                    padding: 1.5rem !important;
                    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15) !important;
                    z-index: 999999 !important;
                    opacity: 0 !important;
                    visibility: hidden !important;
                    transition: all 0.3s ease !important;
                    min-width: 280px !important;
                    max-width: 320px !important;
                    pointer-events: none !important;
                  }

                                                                           /* Default right positioning */
                    .info-box {
                      right: calc(100% + 20px) !important;
                      max-width: 320px !important;
                      min-width: 280px !important;
                      z-index: 999999 !important;
                    }

                    /* Left positioning for cards on the right side */
                    .info-box.info-box-left {
                      right: auto !important;
                      left: calc(100% + 20px) !important;
                      z-index: 999999 !important;
                    }

                  .total-sum-display:hover .info-box,
                  .price-display:hover .info-box {
                    opacity: 1 !important;
                    visibility: visible !important;
                    pointer-events: auto !important;
                    z-index: 999999 !important;
                  }

                  /* Default right arrow */
                  .info-box::before {
                    content: '' !important;
                    position: absolute !important;
                    top: 50% !important;
                    right: -8px !important;
                    transform: translateY(-50%) !important;
                    width: 0 !important;
                    height: 0 !important;
                    border-top: 8px solid transparent !important;
                    border-bottom: 8px solid transparent !important;
                    border-left: 8px solid hsl(217deg 91% 60%) !important;
                  }

                  .info-box::after {
                    content: '' !important;
                    position: absolute !important;
                    top: 50% !important;
                    right: -6px !important;
                    transform: translateY(-50%) !important;
                    width: 0 !important;
                    height: 0 !important;
                    border-top: 6px solid transparent !important;
                    border-bottom: 6px solid transparent !important;
                    border-left: 6px solid white !important;
                  }

                  /* Left arrow for left positioning */
                  .info-box.info-box-left::before {
                    right: auto !important;
                    left: -8px !important;
                    border-left: none !important;
                    border-right: 8px solid hsl(217deg 91% 60%) !important;
                  }

                  .info-box.info-box-left::after {
                    right: auto !important;
                    left: -6px !important;
                    border-left: none !important;
                    border-right: 6px solid white !important;
                  }

                  .info-box-title {
                    font-size: 1.1rem !important;
                    font-weight: 700 !important;
                    color: hsl(217deg 91% 60%) !important;
                    margin-bottom: 0.75rem !important;
                    text-align: center !important;
                  }

                  .info-box-details {
                    font-size: 0.9rem !important;
                    color: #6b7280 !important;
                    margin-bottom: 1rem !important;
                    text-align: center !important;
                    font-weight: 600 !important;
                  }

                  .info-box-process {
                    list-style: none !important;
                    padding: 0 !important;
                    margin: 0 !important;
                  }

                  .info-box-process li {
                    padding: 0.5rem 0 !important;
                    border-bottom: 1px solid #f3f4f6 !important;
                    font-size: 0.85rem !important;
                    color: #374151 !important;
                    position: relative !important;
                    padding-left: 1.5rem !important;
                  }

                  .info-box-process li:last-child {
                    border-bottom: none !important;
                  }

                  .info-box-process li::before {
                    content: '' !important;
                    position: absolute !important;
                    left: 0 !important;
                    color: hsl(217deg 91% 60%) !important;
                    font-weight: bold !important;
                  }

                  .total-sum-display,
                  .price-display {
                    position: relative !important;
                  }

                  @media (max-width: 768px) {
                    .info-box {
                      top: 100% !important;
                      right: auto !important;
                      left: 50% !important;
                      transform: translateX(-50%) !important;
                      margin-top: 10px !important;
                      z-index: 999999 !important;
                    }

                    .total-sum-display:hover .info-box,
                    .price-display:hover .info-box {
                      transform: translateX(-50%) translateY(8px) !important;
                      opacity: 1 !important;
                      visibility: visible !important;
                    }

                    .info-box::before {
                      top: -8px !important;
                      right: auto !important;
                      left: 50% !important;
                      transform: translateX(-50%) !important;
                      border-top: none !important;
                      border-bottom: 8px solid hsl(217deg 91% 60%) !important;
                      border-left: 8px solid transparent !important;
                      border-right: 8px solid transparent !important;
                    }

                    .info-box::after {
                      top: -6px !important;
                      right: auto !important;
                      left: 50% !important;
                      transform: translateX(-50%) !important;
                      border-top: none !important;
                      border-bottom: 6px solid white !important;
                      border-left: 6px solid transparent !important;
                      border-right: 6px solid transparent !important;
                    }
                  }
                `;
                iframe.contentDocument.head.appendChild(style);
                
                // Inject countup.js script if not already present
                if (!iframe.contentDocument.querySelector('#countup-script')) {
                  const scriptTag = document.createElement('script');
                  scriptTag.id = 'countup-script';
                  scriptTag.src = 'countup.js';
                  scriptTag.onload = function() {
                    console.log('CountUp script loaded in iframe');
                  };
                  iframe.contentDocument.head.appendChild(scriptTag);
                }
                
                // Add dynamic positioning logic
                setupDynamicInfoBoxPositioning(iframe.contentDocument);
              }
            }
          } catch (e) {
            // Iframe might not be accessible due to CORS
            console.log('Could not inject styles into iframe:', e);
          }
        });
      }

      // Function to create a new info-box element
      function createInfoBox() {
        const infoBox = document.createElement('div');
        infoBox.className = 'info-box';
        infoBox.innerHTML = `
          <div class="info-box-title">Lade...</div>
          <div class="info-box-details">Berechne PrÃ¤mie...</div>
          <ul class="info-box-process">
            <li>Wird geladen...</li>
          </ul>
        `;
        return infoBox;
      }

      // Function to setup dynamic positioning for info boxes
      function setupDynamicInfoBoxPositioning(doc) {
        const priceBoxes = doc.querySelectorAll('.total-sum-display, .price-display');
        console.log('Found price boxes for info-box positioning:', priceBoxes.length);
        
        priceBoxes.forEach(priceBox => {
          let infoBox = priceBox.querySelector('.info-box');
          if (!infoBox) {
            console.log('Creating info-box for price box:', priceBox);
            infoBox = createInfoBox();
            priceBox.appendChild(infoBox);
          }
          
          console.log('Setting up info-box positioning for:', priceBox, infoBox);
          
          // Function to determine positioning
          function updateInfoBoxPosition() {
            const priceBoxRect = priceBox.getBoundingClientRect();
            const viewportWidth = window.innerWidth;
            const infoBoxWidth = 320; // max-width of info box
            
            // Simple logic: if price box is in left half of viewport, show info-box on right
            // if price box is in right half of viewport, show info-box on left
            const priceBoxCenter = priceBoxRect.left + priceBoxRect.width / 2;
            const viewportCenter = viewportWidth / 2;
            
            if (priceBoxCenter < viewportCenter) {
              // Price box is on left side, show info-box on right
              infoBox.classList.remove('info-box-left');
              console.log('Price box on LEFT side, positioning info-box on RIGHT');
            } else {
              // Price box is on right side, show info-box on left
              infoBox.classList.add('info-box-left');
              console.log('Price box on RIGHT side, positioning info-box on LEFT');
            }
          }
          
          // Function to update info-box content based on plan and year selection
          function updateInfoBoxContent() {
            // Try to determine the plan from the price box context
            let planName = 'klassik'; // default
            let selectedYear = 'both'; // default
            
            // Look for plan indicators in the price box or its parent
            const planCard = priceBox.closest('.plan-card, .card, .mobile-card');
            if (planCard) {
              const planNameElement = planCard.querySelector('.plan-name, h3');
              if (planNameElement) {
                const planText = planNameElement.textContent.toLowerCase();
                if (planText.includes('express')) {
                  planName = 'express';
                } else if (planText.includes('klassik')) {
                  planName = 'klassik';
                }
              }
            }
            
            // Try to determine selected year from toggle options or other indicators
            const yearToggle = doc.querySelector('.toggle-options .toggle-option.active');
            if (yearToggle) {
              const yearText = yearToggle.textContent.trim();
              if (yearText === '2025') {
                selectedYear = '2025';
              } else if (yearText === '2026') {
                selectedYear = '2026';
              } else if (yearText.includes('2025') && yearText.includes('2026')) {
                selectedYear = 'both';
              }
            }
            
            // Get vehicle class
            const vehicleSelect = doc.querySelector('#vehicleClassSelect, .vehicle-dropdown');
            const vehicleClass = vehicleSelect ? vehicleSelect.value : 'M1';
            
            // Generate content based on plan and year
            let content = '';
            
            if (selectedYear === 'both') {
              const price2025 = window.CARBONIFY_SAMPLE_DATA.getPrice(planName, '2025', vehicleClass);
              const price2026 = window.CARBONIFY_SAMPLE_DATA.getPrice(planName, '2026', vehicleClass);
              const totalSum = window.CARBONIFY_SAMPLE_DATA.getTotalSum(planName, vehicleClass);
              
              content = `
                <div class="info-box-title">${planName.charAt(0).toUpperCase() + planName.slice(1)} Plan - Beide Jahre</div>
                <div class="info-box-details">GesamtprÃ¤mie: â‚¬${totalSum}</div>
                <ul class="info-box-process">
                  <li>2025: â‚¬${price2025}</li>
                  <li>2026: â‚¬${price2026}</li>
                  <li>Verivox Bonus: +â‚¬30</li>
                  <li>${planName === 'express' ? 'Auszahlung: 24h-2 Wochen' : 'Auszahlung: 4-16 Wochen'}</li>
                </ul>
              `;
            } else {
              const price = window.CARBONIFY_SAMPLE_DATA.getPrice(planName, selectedYear, vehicleClass);
              
              content = `
                <div class="info-box-title">${planName.charAt(0).toUpperCase() + planName.slice(1)} Plan - ${selectedYear}</div>
                <div class="info-box-details">PrÃ¤mie: â‚¬${price}</div>
                <ul class="info-box-process">
                  <li>Jahr: ${selectedYear}</li>
                  <li>PrÃ¤mie: â‚¬${price}</li>
                  <li>${planName === 'express' ? 'Auszahlung: 24h-2 Wochen' : 'Auszahlung: 4-16 Wochen'}</li>
                </ul>
              `;
            }
            
            infoBox.innerHTML = content;
          }
          
          // Update position on hover
          priceBox.addEventListener('mouseenter', () => {
            updateInfoBoxPosition();
            updateInfoBoxContent();
          });
          
          // Also update on window resize
          window.addEventListener('resize', updateInfoBoxPosition);
          
          // Add click event for testing
          priceBox.addEventListener('click', () => {
            console.log('Price box clicked, info-box state:', {
              opacity: infoBox.style.opacity,
              visibility: infoBox.style.visibility,
              zIndex: infoBox.style.zIndex,
              classes: infoBox.className
            });
          });
        });
      }

      // Inject styles when iframes load
      document.addEventListener('DOMContentLoaded', () => {
        // Initial injection
        setTimeout(injectGlobalStyles, 1000);
        
        // Setup dynamic positioning for main document
        setupDynamicInfoBoxPositioning(document);
        
        // Watch for iframe changes
        const observer = new MutationObserver(() => {
          setTimeout(injectGlobalStyles, 500);
        });
        
        observer.observe(document.body, {
          childList: true,
          subtree: true
        });

        // Also inject styles when iframes load
        const iframes = document.querySelectorAll('iframe');
        iframes.forEach(iframe => {
          iframe.addEventListener('load', () => {
            setTimeout(() => {
              injectGlobalStyles();
              setupDynamicInfoBoxPositioning(iframe.contentDocument);
            }, 500);
          });
        });
        
        // Add test function to window for debugging
        window.testInfoBox = function() {
          const infoBoxes = document.querySelectorAll('.info-box');
          console.log('Found info-boxes:', infoBoxes.length);
          infoBoxes.forEach((box, index) => {
            console.log(`Info-box ${index}:`, {
              element: box,
              opacity: box.style.opacity,
              visibility: box.style.visibility,
              zIndex: box.style.zIndex,
              classes: box.className,
              computedStyle: window.getComputedStyle(box)
            });
          });
        };

        // Add function to manually show all info-boxes for testing
        window.showAllInfoBoxes = function() {
          const infoBoxes = document.querySelectorAll('.info-box');
          infoBoxes.forEach(box => {
            box.style.opacity = '1';
            box.style.visibility = 'visible';
            box.style.pointerEvents = 'auto';
          });
          console.log('All info-boxes should now be visible');
        };

        // Add function to manually hide all info-boxes
        window.hideAllInfoBoxes = function() {
          const infoBoxes = document.querySelectorAll('.info-box');
          infoBoxes.forEach(box => {
            box.style.opacity = '0';
            box.style.visibility = 'hidden';
            box.style.pointerEvents = 'none';
          });
          console.log('All info-boxes should now be hidden');
        };

        // Add function to force info-box positioning update
        window.forceInfoBoxUpdate = function() {
          console.log('Forcing info-box positioning update...');
          injectGlobalStyles();
          setupDynamicInfoBoxPositioning(document);
          
          // Also update all iframes
          const iframes = document.querySelectorAll('iframe');
          iframes.forEach(iframe => {
            try {
              if (iframe.contentDocument && iframe.contentDocument.body) {
                setupDynamicInfoBoxPositioning(iframe.contentDocument);
              }
            } catch (e) {
              console.log('Could not update iframe:', e);
            }
          });
        };
      });

      // Also inject when tab changes with better timing
      document.querySelectorAll('.tab-btn').forEach((btn) => {
        btn.addEventListener('click', () => {
          // Inject styles immediately and then again after iframe loads
          injectGlobalStyles();
          
          // Wait for iframe to load, then inject styles again
          setTimeout(() => {
            injectGlobalStyles();
            // Also setup positioning for the newly visible iframe
            const iframes = document.querySelectorAll('iframe');
            iframes.forEach(iframe => {
              try {
                if (iframe.contentDocument && iframe.contentDocument.body) {
                  setupDynamicInfoBoxPositioning(iframe.contentDocument);
                }
              } catch (e) {
                console.log('Could not setup positioning for iframe:', e);
              }
            });
          }, 1000);
        });
      });

      // Dynamic pricing update for hero section
      function updateMaxPriceDisplay() {
        if (window.CARBONIFY_SAMPLE_DATA) {
          try {
            // Get all available years and plans to find the highest price for M1 vehicle
            const years = ['2025', '2026', 'both'];
            const plans = ['klassik', 'express'];
            let maxPrice = 0;
            let maxPriceYear = '';
            let maxPricePlan = '';

            years.forEach(year => {
              plans.forEach(plan => {
                let price;
                if (year === 'both') {
                  price = window.CARBONIFY_SAMPLE_DATA.getTotalSum(plan, 'M1');
                } else {
                  price = window.CARBONIFY_SAMPLE_DATA.getPrice(plan, year, 'M1');
                }
                
                if (price > maxPrice) {
                  maxPrice = price;
                  maxPriceYear = year;
                  maxPricePlan = plan;
                }
              });
            });

            // Update the floating card display
            const maxPriceElement = document.getElementById('maxPriceDisplay');
            if (maxPriceElement) {
              maxPriceElement.textContent = `Bis zu â‚¬${maxPrice}`;
            }

            // Update the hero stat and trigger CountUp animation
            const maxPriceStat = document.getElementById('maxPriceStat');
            if (maxPriceStat) {
              // Update the data attribute for CountUp
              maxPriceStat.dataset.endVal = maxPrice;
              
              // If CountUp is already initialized, update it
              if (maxPriceStat.countupInstance) {
                maxPriceStat.countupInstance.update(maxPrice);
              } else {
                // If CountUp hasn't been initialized yet, update the text directly
                maxPriceStat.textContent = `â‚¬${maxPrice}`;
              }
            }

            console.log(`Updated max price display: â‚¬${maxPrice} (${maxPricePlan} ${maxPriceYear})`);
          } catch (error) {
            console.error('Error updating max price display:', error);
          }
        } else {
          console.log('Sample data not available yet, will retry...');
          // Retry after a short delay
          setTimeout(updateMaxPriceDisplay, 1000);
        }
      }

      // Update max price when page loads
      document.addEventListener('DOMContentLoaded', updateMaxPriceDisplay);
      
      // Also update when sample data becomes available
      if (window.CARBONIFY_SAMPLE_DATA) {
        updateMaxPriceDisplay();
      } else {
        // Wait for sample data to load
        const checkSampleData = setInterval(() => {
          if (window.CARBONIFY_SAMPLE_DATA) {
            clearInterval(checkSampleData);
            updateMaxPriceDisplay();
          }
        }, 100);
      }

      
    </script>
  </body>
</html>

x
